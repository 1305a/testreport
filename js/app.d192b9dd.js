(function(){"use strict";var t={316:function(t,e,n){var i=n(963),s=n(252),o=n(577);const r={class:"app-wrapper"},l={class:"buttons-wrapper"};function a(t,e,n,i,a,d){const u=(0,s.up)("oldReport"),c=(0,s.up)("newReport");return(0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("div",l,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>d.openOldReport&&d.openOldReport(...t)),class:(0,o.C_)([{"selected-button":!a.isNewReport},"report-type-button"])}," Старый отчет",2),(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>d.openNewReport&&d.openNewReport(...t)),class:(0,o.C_)([{"selected-button":a.isNewReport},"report-type-button"])},"Новый отчет",2)]),a.isNewReport?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(u,{key:0})),a.isNewReport?((0,s.wg)(),(0,s.j4)(c,{key:1})):(0,s.kq)("",!0)])}const d={class:"main"},u={class:"main-wrapper"},c={class:"main-header"},h=(0,s._)("p",null,"Выбор сервера:",-1),b=(0,s._)("option",{selected:"",value:"main"},"Рабочий сервер",-1),p=[b],_=(0,s._)("div",null,"Выберите сценарий:",-1),w={class:"table-header"},m=(0,s._)("th",null,"№",-1),y={key:0},f=(0,s._)("th",null,"title",-1),g=(0,s._)("th",null,"type",-1),v=(0,s._)("th",null,"Дата",-1),k=(0,s._)("th",null,"Время",-1),I=(0,s._)("th",null,"Номер попытки",-1),D=(0,s._)("th",null,"Верный ответ",-1),z=(0,s._)("th",null,"Текущий ответ",-1),N=(0,s._)("th",null,"fb stars",-1),O=(0,s._)("th",null,"fb Полезность",-1),R=(0,s._)("th",null,"fb Сложность",-1),q=(0,s._)("th",null,"fb Частотность",-1),T=(0,s._)("th",null,"fb Диагноз и лечение",-1),F=(0,s._)("th",null,"fb комментарий",-1),j=(0,s._)("th",null,"fb интересующаятема",-1),C={key:0};function J(t,e,n,r,l,a){return(0,s.wg)(),(0,s.iD)("div",d,[(0,s._)("div",u,[(0,s._)("div",c,[h,(0,s._)("div",null,[(0,s._)("p",null,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.selected=t)},p,512),[[i.bM,l.selected]])])]),_,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[1]||(e[1]=t=>l.testNumber=t)},null,512),[[i.nr,l.testNumber]]),(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>a.createReport&&a.createReport(...t))}," Сформировать ")]),(0,s._)("table",null,[(0,s._)("tr",w,[m,"test"===l.selected?((0,s.wg)(),(0,s.iD)("th",y,"session id")):(0,s.kq)("",!0),f,g,v,k,I,D,z,N,O,R,q,T,F,j]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.testData,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e},[(0,s._)("td",null,(0,o.zw)(e+1),1),"test"===l.selected?((0,s.wg)(),(0,s.iD)("td",C,(0,o.zw)(t.user_session_id),1)):(0,s.kq)("",!0),(0,s._)("td",null,(0,o.zw)(a.findQuestionById(t.question_id)),1),(0,s._)("td",null,(0,o.zw)(t.body.description.type),1),(0,s._)("td",null,(0,o.zw)(a.getDateFromISO(t.created_at)),1),(0,s._)("td",null,(0,o.zw)(a.getTimeFromISO(t.created_at)),1),(0,s._)("td",null,(0,o.zw)(t.body.description.numberTry),1),(0,s._)("td",null,(0,o.zw)(t.body.description.isRight),1),(0,s._)("td",null,(0,o.zw)(a.getCurrentAnswer(t.question_id,t.body.description.currentAnswer)),1),(0,s._)("td",null,(0,o.zw)(a.getFeedbackItem(t.body.description.feedback,"stars")),1),(0,s._)("td",null,(0,o.zw)(a.getFeedbackItem(t.body.description.feedback,"useful")),1),(0,s._)("td",null,(0,o.zw)(a.getFeedbackItem(t.body.description.feedback,"complexity")),1),(0,s._)("td",null,(0,o.zw)(a.getFeedbackItem(t.body.description.feedback,"frequency")),1),(0,s._)("td",null,(0,o.zw)(a.getFeedbackItem(t.body.description.feedback,"disagreeDiagnosis")),1),(0,s._)("td",null,(0,o.zw)(a.getFeedbackItem(t.body.description.feedback,"comment")),1),(0,s._)("td",null,(0,o.zw)(a.getFeedbackItem(t.body.description.feedback,"interestingCase")),1)])))),128))])])])}var P=n(594),A={data(){return{testNumber:1,testData:[],questionData:[],selectPaths:{main:"https://tech1.med-game.ru/api/v1/admin/test/"},selected:"main",token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2ODgyNDQxMDIuNzg2NTIyMiwiaWF0IjoxNjg3MTY0MTAyLjc4NjUyMjIsInVzZXJuYW1lIjoiYWRtaW4iLCJyb2xlcyI6WyJhZG1pbi1wYXJ0IiwibWFuYWdlLXVzZXJzIiwibWFuYWdlLXJvbGVzIl19.Tdmc_a7sgEQnUDOi4dnD6vGtIAsmdtSMOiIuGvePDq0"}},methods:{createReport(){(0,P.Z)({method:"get",url:`${this.selectPaths[this.selected]}${this.testNumber}/answers`,headers:{Authorization:`Bearer ${this.token}`}}).then((t=>{this.testData=t.data.data.sort((function(t,e){return t.id-e.id})),this.writeNumberQuestion()})).catch((t=>(console.log("Ошибка:"),console.log(t),this.testData=[],t)))},writeNumberQuestion(){(0,P.Z)({method:"get",url:`${this.selectPaths[this.selected]}${this.testNumber}/questions`,headers:{Authorization:`Bearer ${this.token}`}}).then((t=>{this.questionData=t.data.data})).catch((t=>(console.log("Ошибка:"),console.log(t),this.testData=[],t)))},findQuestionById(t){let e=this.questionData.find((e=>e.id===t));return void 0!==e?e.body.title:""},getCurrentAnswer(t,e){if(void 0!==e){let n=this.questionData.find((e=>e.id===t));return void 0!==n?"Диагноз"===n.body.title&&void 0!==n.body.bodyButtons[e]?n.body.bodyButtons[e].buttonText:e:""}return""},getFeedbackItem(t,e){return void 0!=t?"useful"===e?t[e]?"Да":"Нет":"complexity"===e?0===t[e]?"не выбрано":1===t[e]?"Слишком сложно":2===t[e]?"Слишком просто":"":"frequency"===e?0===t[e]?"не выбрано":1===t[e]?"Слишком редкая ситуация":2===t[e]?"Слишком частая ситуация":"":"disagreeDiagnosis"===e?t[e]?"Не согласен с решением":"не выбрано":t[e]:""},getDateFromISO(t){const e=new Date(t);return e.toLocaleDateString()},getTimeFromISO(t){const e=new Date(t);return e.toLocaleTimeString()}},watch:{selected(){this.testData=[]}}},W=n(744);const x=(0,W.Z)(A,[["render",J]]);var $=x;const M={class:"main"},S={class:"main-wrapper"},Y={class:"main-header"},Z=(0,s._)("p",null,"Выбор сервера:",-1),B=(0,s._)("option",{selected:"",value:"prod"},"Продакшен",-1),L=(0,s._)("option",{value:"test"},"Тестовый сервер",-1),Q=[B,L],U=(0,s._)("div",null,"Выберите сценарий:",-1),V={class:"description"},X=(0,s._)("br",null,null,-1),G={class:"table-header"},E=(0,s._)("th",null,"№",-1),H={key:0},K=(0,s._)("th",null,"title",-1),tt=(0,s._)("th",null,"type",-1),et=(0,s._)("th",null,"Дата",-1),nt=(0,s._)("th",null,"Время",-1),it=(0,s._)("th",null,"Номер попытки",-1),st=(0,s._)("th",null,"Верный ответ",-1),ot=(0,s._)("th",null,"Текущий ответ",-1),rt=(0,s._)("th",null,"fb stars",-1),lt=(0,s._)("th",null,"fb Полезность",-1),at=(0,s._)("th",null,"fb Сложность",-1),dt=(0,s._)("th",null,"fb Частотность",-1),ut=(0,s._)("th",null,"fb Диагноз и лечение",-1),ct=(0,s._)("th",null,"fb комментарий",-1),ht=(0,s._)("th",null,"fb интересующаятема",-1),bt={key:0};function pt(t,e,n,r,l,a){return(0,s.wg)(),(0,s.iD)("div",M,[(0,s._)("div",S,[(0,s._)("div",Y,[Z,(0,s._)("div",null,[(0,s._)("p",null,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.selected=t)},Q,512),[[i.bM,l.selected]])])]),U,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[1]||(e[1]=t=>l.testNumber=t),onChange:e[2]||(e[2]=(...t)=>a.getTestParameters&&a.getTestParameters(...t))},null,544),[[i.nr,l.testNumber]]),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>a.createReport&&a.createReport(...t))}," Сформировать ")]),(0,s._)("div",V,[(0,s.Uk)(" Имя: "+(0,o.zw)(l.testParameters.name)+" ",1),X,(0,s.Uk)(" Описание: "+(0,o.zw)(l.testParameters.description),1)]),(0,s._)("table",null,[(0,s._)("tr",G,[E,"test"===l.selected?((0,s.wg)(),(0,s.iD)("th",H,"session id")):(0,s.kq)("",!0),K,tt,et,nt,it,st,ot,rt,lt,at,dt,ut,ct,ht]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.testData,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e},[(0,s._)("td",null,(0,o.zw)(e+1),1),"test"===l.selected?((0,s.wg)(),(0,s.iD)("td",bt,(0,o.zw)(t.user_session_id),1)):(0,s.kq)("",!0),(0,s._)("td",null,(0,o.zw)(a.findQuestionById(t.question_id)),1),(0,s._)("td",null,(0,o.zw)(t.body.description.type),1),(0,s._)("td",null,(0,o.zw)(a.getDateFromISO(t.created_at)),1),(0,s._)("td",null,(0,o.zw)(a.getTimeFromISO(t.created_at)),1),(0,s._)("td",null,(0,o.zw)(t.body.description.numberTry),1),(0,s._)("td",null,(0,o.zw)(t.body.description.isRight),1),(0,s._)("td",null,(0,o.zw)(a.getCurrentAnswer(t.question_id,t.body.description.currentAnswer)),1),(0,s._)("td",null,(0,o.zw)(t.body.description.feedback?.rating),1),(0,s._)("td",null,(0,o.zw)(t.body.description.feedback?.useful),1),(0,s._)("td",null,(0,o.zw)(t.body.description.feedback?.complexity),1),(0,s._)("td",null,(0,o.zw)(t.body.description.feedback?.frequency),1),(0,s._)("td",null,(0,o.zw)(t.body.description.feedback?.diagnosisAndTherapy),1),(0,s._)("td",null,(0,o.zw)(t.body.description.feedback?.comment),1),(0,s._)("td",null,(0,o.zw)(t.body.description.feedback?.interestingCase),1)])))),128))])])])}var _t={data(){return{testNumber:1,testData:[],questionData:[],selectPaths:{prod:"https://tech2.med-game.ru/api/v1/admin/test/",test:"https://dev1.med-game.ru/api/v1/admin/test/"},selected:"prod",token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2ODgyNDQxMDIuNzg2NTIyMiwiaWF0IjoxNjg3MTY0MTAyLjc4NjUyMjIsInVzZXJuYW1lIjoiYWRtaW4iLCJyb2xlcyI6WyJhZG1pbi1wYXJ0IiwibWFuYWdlLXVzZXJzIiwibWFuYWdlLXJvbGVzIl19.Tdmc_a7sgEQnUDOi4dnD6vGtIAsmdtSMOiIuGvePDq0",testParameters:{}}},methods:{createReport(){(0,P.Z)({method:"get",url:`${this.selectPaths[this.selected]}${this.testNumber}/answers`,headers:{Authorization:`Bearer ${this.token}`}}).then((t=>{this.testData=t.data.data.sort((function(t,e){return t.id-e.id})),this.writeNumberQuestion()})).catch((t=>(console.log("Ошибка:"),console.log(t),this.testData=[],t)))},writeNumberQuestion(){(0,P.Z)({method:"get",url:`${this.selectPaths[this.selected]}${this.testNumber}/questions`,headers:{Authorization:`Bearer ${this.token}`}}).then((t=>{this.questionData=t.data.data})).catch((t=>(console.log("Ошибка:"),console.log(t),this.testData=[],t)))},getTestParameters(){(0,P.Z)({method:"get",url:`${this.selectPaths[this.selected]}${this.testNumber}`,headers:{Authorization:`Bearer ${this.token}`}}).then((t=>{this.testParameters=t.data.data})).catch((t=>(console.log("Ошибка:"),console.log(t),this.testParameters={},t)))},findQuestionById(t){let e=this.questionData.find((e=>e.id===t));return void 0!==e?e.body.title:""},getCurrentAnswer(t,e){if(void 0!==e){let n=this.questionData.find((e=>e.id===t));return void 0!==n?"Диагноз"===n.body.title&&void 0!==n.body.bodyButtons[e]?n.body.bodyButtons[e].buttonText:e:""}return""},getDateFromISO(t){const e=new Date(t);return e.toLocaleDateString()},getTimeFromISO(t){const e=new Date(t);return e.toLocaleTimeString()}},watch:{selected(){this.testData=[]}}};const wt=(0,W.Z)(_t,[["render",pt]]);var mt=wt,yt={data(){return{isNewReport:!1}},components:{oldReport:$,newReport:mt},methods:{openOldReport(){this.isNewReport=!1},openNewReport(){this.isNewReport=!0}}};const ft=(0,W.Z)(yt,[["render",a]]);var gt=ft;(0,i.ri)(gt).mount("#app")}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.m=t,function(){var t=[];n.O=function(e,i,s,o){if(!i){var r=1/0;for(u=0;u<t.length;u++){i=t[u][0],s=t[u][1],o=t[u][2];for(var l=!0,a=0;a<i.length;a++)(!1&o||r>=o)&&Object.keys(n.O).every((function(t){return n.O[t](i[a])}))?i.splice(a--,1):(l=!1,o<r&&(r=o));if(l){t.splice(u--,1);var d=s();void 0!==d&&(e=d)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[i,s,o]}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var s,o,r=i[0],l=i[1],a=i[2],d=0;if(r.some((function(e){return 0!==t[e]}))){for(s in l)n.o(l,s)&&(n.m[s]=l[s]);if(a)var u=a(n)}for(e&&e(i);d<r.length;d++)o=r[d],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(u)},i=self["webpackChunkanswersreport"]=self["webpackChunkanswersreport"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(316)}));i=n.O(i)})();
//# sourceMappingURL=app.d192b9dd.js.map